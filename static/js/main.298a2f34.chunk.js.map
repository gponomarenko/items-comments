{"version":3,"sources":["components/Item/Item.jsx","components/ItemList/ItemList.jsx","components/Comment/Comment.jsx","components/CommentList/CommentList.jsx","App.js","index.js"],"names":["Item","id","message","selectItem","deleteItem","showCommentsNumber","className","to","onClick","type","ItemList","addItem","handleChange","items","activeItemId","inputItem","onSubmit","e","onChange","value","placeholder","map","item","key","Comment","index","cn","comment__box","CommentList","comments","addComment","inputComment","setInputComment","findItemPlace","filter","comment","itemId","Fragment","target","onKeyDown","App","useLocalStorage","initialValue","useState","window","localStorage","getItem","JSON","parse","error","console","log","storedValue","setStoredValue","valueToStore","Function","setItem","stringify","setItems","setComments","setActiveItemId","setInputItem","path","event","preventDefault","length","prev","keyCode","ctrlKey","indexOf","find","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.298a2f34.chunk.js","sourcesContent":["import React from 'react';\nimport { Link } from 'react-router-dom';\nimport './item.css';\n\nexport const Item = ({\n  id,\n  message,\n  selectItem,\n  deleteItem,\n  showCommentsNumber,\n}) => (\n  <li\n    className=\"item__link\n    item\n    list-group-item\n    d-flex\n    justify-content-flex-start align-items-center\"\n  >\n    <Link\n      className=\"item__link\"\n      to={`/${id}`}\n      onClick={() => selectItem(id)}\n    >\n      {`${message} `}\n      <span className=\"item__badge badge badge-primary badge-pill\">\n        {showCommentsNumber(id)}\n      </span>\n    </Link>\n    <button\n      className=\"btn btn-outline-danger w-25\"\n      type=\"button\"\n      onClick={() => deleteItem(id)}\n    >\n      Delete\n    </button>\n  </li>\n);\n","import React from 'react';\nimport { Item } from '../Item';\nimport './itemlist.css';\n\nexport const ItemList = ({\n  selectItem,\n  addItem,\n  handleChange,\n  items,\n  deleteItem,\n  activeItemId,\n  inputItem,\n  showCommentsNumber,\n}) => (\n  <>\n    <div>\n      <h2>Items</h2>\n    </div>\n    <div className=\"form__container\">\n      <form\n        onSubmit={e => addItem(e)}\n        className=\"additem\"\n      >\n        <input\n          className=\"form-control w-75\"\n          onChange={handleChange}\n          value={inputItem}\n          placeholder=\"add your item here...\"\n        />\n        <button type=\"submit\" className=\"btn btn-success\">\n          Add new\n        </button>\n      </form>\n    </div>\n    <ul className=\"list-group list-group-flush\">\n      {items.map(item => (\n        <Item\n          key={item.id}\n          id={item.id}\n          message={item.message}\n          selectItem={selectItem}\n          deleteItem={deleteItem}\n          showCommentsNumber={showCommentsNumber}\n          activeItemId={activeItemId}\n        />\n      ))\n      }\n    </ul>\n  </>\n);\n","import React from 'react';\nimport './comment.css';\nimport cn from 'classnames';\n\nexport const Comment = ({ message, index }) => (\n  <>\n    <li\n      className=\"comment\n      item\n      list-group-item\n      d-flex\n      justify-content-flex-start\n      align-items-flex-start\"\n    >\n      <div className=\"comment__status\">\n        <div className={cn({\n          comment__box: true,\n          'comment__box--odd': index % 2 === 0,\n          'comment__box--even': index % 2 !== 0,\n        })}\n        />\n      </div>\n      <div className=\"comment__body\">\n        {message}\n      </div>\n    </li>\n  </>\n);\n","import React from 'react';\nimport { Comment } from '../Comment';\nimport '../Comment/comment.css';\n\nexport const CommentList = ({\n  comments,\n  addComment,\n  activeItemId,\n  inputComment,\n  setInputComment,\n  findItemPlace,\n}) => (\n  <>\n    <h2>{`Comments #${findItemPlace(activeItemId) + 1}`}</h2>\n    <div>\n      {comments\n        .filter(comment => comment.itemId === activeItemId)\n        .map((comment, index) => (\n          <React.Fragment key={comment.id}>\n            <Comment\n              message={comment.comment}\n              index={index}\n            />\n          </React.Fragment>\n        ))\n      }\n      <li\n        className=\"item\n        list-group-item\n        d-flex\n        justify-content-flex-start align-items-center\n        comment\"\n      >\n        <div className=\"comment__status\">\n          <div className=\"comment__box comment__box--add\" />\n        </div>\n        <div className=\"comment__body\">\n          <textarea\n            className=\"comment__input form-control\"\n            type=\"text\"\n            placeholder=\"add your comment and press Enter + CTRL\"\n            value={inputComment}\n            onChange={e => (setInputComment(e.target.value))}\n            onKeyDown={addComment}\n          />\n        </div>\n      </li>\n    </div>\n  </>\n);\n","import React, { useState } from 'react';\nimport './App.css';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport { Link, Route } from 'react-router-dom';\nimport { ItemList } from './components/ItemList';\nimport { CommentList } from './components/CommentList';\n\nfunction App() {\n  function useLocalStorage(key, initialValue) {\n    const [storedValue, setStoredValue] = useState(() => {\n      try {\n        const item = window.localStorage.getItem(key);\n        return item ? JSON.parse(item) : initialValue;\n      } catch (error) {\n        console.log(error);\n        return initialValue;\n      }\n    });\n    const setValue = (value) => {\n      try {\n        const valueToStore\n        = value instanceof Function ? value(storedValue) : value;\n\n        setStoredValue(valueToStore);\n\n        window.localStorage.setItem(key, JSON.stringify(valueToStore));\n      } catch (error) {\n        console.log(error);\n      }\n    };\n\n    return [storedValue, setValue];\n  }\n\n  const [items, setItems] = useLocalStorage('items', [{\n    message: 'first message', id: 1,\n  }, {\n    message: 'second message', id: 2,\n  }]);\n  const [comments, setComments] = useLocalStorage('comments', [{\n    comment: 'first comment on message 1', itemId: 1, id: 1000,\n  }, {\n    comment: 'second comment on message 1', itemId: 1, id: 1001,\n  },\n  {\n    comment: 'first comment on message 2', itemId: 2, id: 1002,\n  }]);\n  const [activeItemId, setActiveItemId] = useState(0);\n  const [inputItem, setInputItem] = useState('');\n  const [inputComment, setInputComment] = useState('');\n\n  const selectItem = (itemId) => {\n    setActiveItemId(itemId);\n  };\n\n\n\n  const addItem = (event) => {\n    event.preventDefault();\n    if (!inputItem.length) {\n      return null;\n    }\n\n    if (inputItem.length && items.length) {\n      setItems(prev => (\n        [...prev,\n          {\n            message: inputItem,\n            id: prev[prev.length - 1].id + 1,\n          },\n        ]\n      ));\n    }\n\n    if (inputItem.length && !items.length) {\n      setItems(prev => (\n        [...prev,\n          {\n            message: inputItem,\n            id: 1,\n          },\n        ]\n      ));\n    }\n\n    setInputItem('');\n    setActiveItemId(0);\n    console.log('adding item');\n  };\n\n  const findItemPlace = id => (\n    items\n      .indexOf(items.find(item => item.id === id))\n  );\n\n  const deleteItem = (id) => {\n    setComments(prev => prev.filter(comment => comment.itemId !== id));\n    setItems(prev => prev.filter(item => item.id !== id));\n    console.log(items, comments);\n  };\n\n  const addComment = (event) => {\n    if (!inputComment.length) {\n      return null;\n    }\n\n    if (event.keyCode === 13 && event.ctrlKey && inputComment.length) {\n      if (comments.length) {\n        setComments(prev => (\n          [...prev,\n            {\n              comment: inputComment,\n              itemId: activeItemId,\n              id: prev[prev.length - 1].id + 1,\n            },\n          ]\n        ));\n        console.log('adding next comment');\n      }\n\n      if (!comments.length) {\n        setComments(prev => (\n          [...prev,\n            {\n              comment: inputComment,\n              itemId: activeItemId,\n              id: 1000,\n            },\n          ]\n        ));\n        console.log('adding first comment');\n      }\n\n      setInputComment('');\n    }\n  };\n\n  const handleChange = (event) => {\n    setInputItem(event.target.value);\n  };\n\n  const showCommentsNumber = id => (\n    comments\n      .filter(comment => comment.itemId === id)\n      .length\n  );\n\n  return (\n    <div className=\"App\">\n      <div className=\"App__sidebar container bg-dark\">\n        <h1 className=\"App__sidebar--title text-white\">DAIRY APP</h1>\n        <p className=\"text-white-50\">Comments with no sense</p>\n        <div>\n          <Route path=\"/\">\n            <Link to=\"/\">\n            <button type=\"button\" className=\"btn btn-light\">\n              GO HOME\n            </button>\n            </Link>\n          </Route>\n\n        </div>\n      </div>\n      <div className=\"App__main container-fluid\">\n        <div className=\"App__items shadow p-3 mb-5 bg-white\">\n          <div>\n            <ItemList\n              selectItem={selectItem}\n              addItem={addItem}\n              handleChange={handleChange}\n              items={items}\n              deleteItem={deleteItem}\n              inputItem={inputItem}\n              showCommentsNumber={showCommentsNumber}\n            />\n          </div>\n        </div>\n        <div className=\"App__comments shadow p-3 mb-5 bg-white\">\n          <Route path={`/${activeItemId}`}>\n            <CommentList\n              comments={comments}\n              addComment={addComment}\n              activeItemId={activeItemId}\n              inputComment={inputComment}\n              setInputComment={setInputComment}\n              findItemPlace={findItemPlace}\n            />\n          </Route>\n        </div>\n      </div>\n\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport App from './App';\n\nReactDOM.render(\n  <BrowserRouter>\n    <App />\n  </BrowserRouter>\n  , document.getElementById('root'),\n);\n"],"sourceRoot":""}