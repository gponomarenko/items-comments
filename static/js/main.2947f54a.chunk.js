(this["webpackJsonpitems-comments"]=this["webpackJsonpitems-comments"]||[]).push([[0],{17:function(e,t,n){},23:function(e,t,n){e.exports=n(37)},30:function(e,t,n){},32:function(e,t,n){},36:function(e,t,n){},37:function(e,t,n){"use strict";n.r(t);var a=n(0),m=n.n(a),c=n(18),o=n.n(c),l=n(9),i=n(19),r=n.n(i),s=n(11),u=n(7),d=(n(30),n(31),n(1)),f=(n(32),function(e){var t=e.id,n=e.message,a=e.selectItem,c=e.deleteItem,o=e.showCommentsNumber;return m.a.createElement("li",{className:"item__link item list-group-item d-flex justify-content-flex-start align-items-center"},m.a.createElement(l.b,{className:"item__link",to:"/items-comments/".concat(t),onClick:function(){return a(t)}},"".concat(n," "),m.a.createElement("span",{className:"item__badge badge badge-primary badge-pill"},o(t))),m.a.createElement("button",{className:"btn btn-outline-danger w-25",type:"button",onClick:function(){return c(t)}},"Delete"))}),g=(n(36),function(e){var t=e.selectItem,n=e.addItem,a=e.handleChange,c=e.items,o=e.deleteItem,l=e.activeItemId,i=e.inputItem,r=e.showCommentsNumber;return m.a.createElement(m.a.Fragment,null,m.a.createElement("div",null,m.a.createElement("h2",null,"Items")),m.a.createElement("div",{className:"form__container"},m.a.createElement("form",{onSubmit:function(e){return n(e)},className:"additem"},m.a.createElement("input",{className:"form-control w-75",onChange:a,value:i,placeholder:"add your item here..."}),m.a.createElement("button",{type:"submit",className:"btn btn-success"},"Add new"))),m.a.createElement("ul",{className:"list-group list-group-flush"},c.map((function(e){return m.a.createElement(f,{key:e.id,id:e.id,message:e.message,selectItem:t,deleteItem:o,showCommentsNumber:r,activeItemId:l})}))))}),b=(n(17),n(22)),p=n.n(b),E=function(e){var t=e.message,n=e.index;return m.a.createElement(m.a.Fragment,null,m.a.createElement("li",{className:"comment item list-group-item d-flex justify-content-flex-start align-items-flex-start"},m.a.createElement("div",{className:"comment__status"},m.a.createElement("div",{className:p()({comment__box:!0,"comment__box--odd":n%2===0,"comment__box--even":n%2!==0})})),m.a.createElement("div",{className:"comment__body"},t)))},h=function(e){var t=e.comments,n=e.addComment,a=e.activeItemId,c=e.inputComment,o=e.setInputComment,l=e.findItemPlace;return m.a.createElement(m.a.Fragment,null,m.a.createElement("h2",null,"Comments #".concat(l(a)+1)),m.a.createElement("div",null,t.filter((function(e){return e.itemId===a})).map((function(e,t){return m.a.createElement(m.a.Fragment,{key:e.id},m.a.createElement(E,{message:e.comment,index:t}))})),m.a.createElement("li",{className:"item list-group-item d-flex justify-content-flex-start align-items-center comment"},m.a.createElement("div",{className:"comment__status"},m.a.createElement("div",{className:"comment__box comment__box--add"})),m.a.createElement("div",{className:"comment__body"},m.a.createElement("textarea",{className:"comment__input form-control",type:"text",placeholder:"add your comment and press Enter + CTRL",value:c,onChange:function(e){return o(e.target.value)},onKeyDown:n})))))};var _=function(){function e(e,t){var n=Object(a.useState)((function(){try{var n=window.localStorage.getItem(e);return n?JSON.parse(n):t}catch(a){return console.log(a),t}})),m=Object(u.a)(n,2),c=m[0],o=m[1];return[c,function(t){try{var n=t instanceof Function?t(c):t;o(n),window.localStorage.setItem(e,JSON.stringify(n))}catch(a){console.log(a)}}]}var t=e("items",[{message:"first message",id:1},{message:"second message",id:2}]),n=Object(u.a)(t,2),c=n[0],o=n[1],i=e("comments",[{comment:"first comment on message 1",itemId:1,id:1e3},{comment:"second comment on message 1",itemId:1,id:1001},{comment:"first comment on message 2",itemId:2,id:1002}]),r=Object(u.a)(i,2),f=r[0],b=r[1],p=Object(a.useState)(0),E=Object(u.a)(p,2),_=E[0],v=E[1],I=Object(a.useState)(""),N=Object(u.a)(I,2),w=N[0],x=N[1],y=Object(a.useState)(""),C=Object(u.a)(y,2),O=C[0],j=C[1];return m.a.createElement("div",{className:"App"},m.a.createElement("div",{className:"App__sidebar container bg-dark"},m.a.createElement("h1",{className:"App__sidebar--title text-white"},"DAIRY APP"),m.a.createElement("p",{className:"text-white-50"},"Comments with no sense"),m.a.createElement("div",null,m.a.createElement(d.a,{path:"/items-comments"},m.a.createElement(l.b,{to:"/items-comments"},m.a.createElement("button",{type:"button",className:"btn btn-light"},"GO HOME"))))),m.a.createElement("div",{className:"App__main container-fluid"},m.a.createElement("div",{className:"App__items shadow p-3 mb-5 bg-white"},m.a.createElement("div",null,m.a.createElement(g,{selectItem:function(e){v(e)},addItem:function(e){if(e.preventDefault(),!w.length)return null;w.length&&c.length&&o((function(e){return[].concat(Object(s.a)(e),[{message:w,id:e[e.length-1].id+1}])})),w.length&&!c.length&&o((function(e){return[].concat(Object(s.a)(e),[{message:w,id:1}])})),x(""),v(0),console.log("adding item")},handleChange:function(e){x(e.target.value)},items:c,deleteItem:function(e){b((function(t){return t.filter((function(t){return t.itemId!==e}))})),o((function(t){return t.filter((function(t){return t.id!==e}))})),console.log(c,f)},inputItem:w,showCommentsNumber:function(e){return f.filter((function(t){return t.itemId===e})).length}}))),m.a.createElement("div",{className:"App__comments shadow p-3 mb-5 bg-white"},m.a.createElement(d.a,{path:"/items-comments/".concat(_)},m.a.createElement(h,{comments:f,addComment:function(e){if(!O.length)return null;13===e.keyCode&&e.ctrlKey&&O.length&&(f.length&&(b((function(e){return[].concat(Object(s.a)(e),[{comment:O,itemId:_,id:e[e.length-1].id+1}])})),console.log("adding next comment")),f.length||(b((function(e){return[].concat(Object(s.a)(e),[{comment:O,itemId:_,id:1e3}])})),console.log("adding first comment")),j(""))},activeItemId:_,inputComment:O,setInputComment:j,findItemPlace:function(e){return c.indexOf(c.find((function(t){return t.id===e})))}})))))};o.a.render(m.a.createElement(l.a,null,m.a.createElement(r.a,{url:"https://github.com/gponomarenko/items-comments/tree/main/src/img/favicon.ico"}),m.a.createElement(_,null)),document.getElementById("root"))}},[[23,1,2]]]);
//# sourceMappingURL=main.2947f54a.chunk.js.map